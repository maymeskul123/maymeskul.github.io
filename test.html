<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>python-telegram-bot Example WebApp</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

</head>

<body style="background-color: #ffffff">
  <script>
    Telegram.WebApp.ready();
    var initData = Telegram.WebApp.initData;
    var initDataUnsafe = Telegram.WebApp.initDataUnsafe || {};
    console.log('Init Data', initData)

    const sendMessage = async () => {
      const url = "https://api.peerflow.xyz/users/telegram-callback";
      const options = {
        method: "POST",
        headers: {
          Accept: "application/json",
          "Content-Type": "application/json;charset=UTF-8",
        },
        body:
          JSON.stringify({
            init_data: initData
          })
        ,
      };

      await fetch(url, options)
        .then((response) => response.json())
        .then((data) =>
          console.log(data)
        ).catch(e => console.error(e));
    };
  </script>
<button onclick="sendMessage()">Send</button>
  <script type="text/javascript">
    Telegram.WebApp.expand();
  </script>
</body>


</html>
